---
title: "Concrete Material Modeling and ANSYS Implementation Using SOLID65 Elements"
date: 2025-02-27
permalink: /posts/2025/02/ansys-solid65/
tags:
  - ANSYS
  - Concrete
  - SOLID65
  - Material Modeling
  - Finite Element Analysis
---


# Defining Material Properties for Concrete in ANSYS

## 1. Overview of Concrete Material Properties
Concrete is a composite material with **nonlinear** behavior under compressive and tensile loads. When modeling concrete in **ANSYS** (especially using the **SOLID65** element), key material properties must be defined, including:

- **Density (ρ)**
- **Elastic modulus (Ec)**
- **Poisson’s ratio (ν)**
- **Tensile strength (ft)**
- **Yield surface models** (Drucker-Prager or Multilinear Isotropic Hardening - MISO)
- **Shear transfer coefficients**
- **Stress-strain curves** 

---

## 2. Key Material Parameters for Concrete in ANSYS using SOLID65 Elements
SOLID65 is a **3D solid element** that simulates **concrete cracking, crushing, and nonlinear behavior**. The primary input parameters required for this element include:

| **Parameter**                 | **Description**                                      |
|--------------------------------|------------------------------------------------------|
| **Density (ρ)**                | Defines the mass density (kg/m³)                    |
| **Elastic Modulus (Ec)**       | Defines stiffness (MPa)                             |
| **Poisson’s Ratio (ν)**        | Defines lateral strain effects                      |
| **Tensile Strength (ft)**      | Defines cracking initiation                         |
| **Shear Transfer Coefficients** | Controls shear across cracks                       |
| **Yield Surface Model**        | Drucker-Prager (DP) or Multilinear (MISO)          |
| **Stress-Strain Behavior**      | Defines the parabolic compressive response         |

---

## 3. Density of Concrete
Concrete's density depends on type and composition:

- **Normal-weight concrete**: 2300 - 2500 kg/m³
- **Lightweight concrete**: 1400 - 1800 kg/m³
- **Heavyweight concrete**: 3000 - 5000 kg/m³

**🔹 ANSYS Implementation:**
```apdl
MP,DENS,1,0.0024 ! Normal-weight concrete
```

---

## 4. Elastic Modulus and Poisson’s Ratio
### (a) Eurocode Equation
Elastic modulus (**Ec**) for concrete is estimated using **Eurocode 2**:

$$
E_c = 22 \times (f_c + 8)^{0.3} \quad \text{(MPa)}
$$


✅ **Example for** \\( f_c = 40 \\) **MPa**:

$$
E_c = 22 \times (40 + 8)^{0.3} = 34,145 \text{ MPa}
$$

### (b) ACI Equation
According to **ACI 318**, the elastic modulus is:

$$
E_c = 4700 \sqrt{f_c} \quad \text{(MPa)}
$$

✅ **Example for** \\( f_c = 40 \\) **MPa**:

$$
E_c = 4700 \times \sqrt{40} = 29,748 \text{ MPa}
$$

**🔹 ANSYS Implementation:**
```apdl
MP,EX,1,34145   ! Eurocode
MP,EX,1,29748   ! ACI
MP,PRXY,1,0.2   ! Poisson's Ratio
```

---

## 5. Yield Surface Models
Concrete is modeled using **two main yield surface models**:

### (a) Drucker-Prager (DP) Model
The **Drucker-Prager** model defines based on:

-  $$c$$ = **cohesion** (MPa)
- $$ \phi $$ = **internal friction angle** (°)

### Interpolation for Cohesion & Friction Angle
Using data from **Ertekin Öztekin et al [1].**, **cohesion (c)** and **friction angle (φ)** are interpolated:

| **fc (MPa)** | **Cohesion (MPa)** | **Internal Friction Angle (°)** |
|-------------|------------------|---------------------------|
| 22.2       | 5.25             | 27.5                      |
| 30.2       | 8.14             | 29.5                      |
| 41.2       | 10.85            | 30.9                      |
| 51.9       | 12.40            | 32.8                      |
| 70.1       | 16.22            | 36.7                      |

✅ **Python Code for Interpolation:**
```python
import numpy as np
from scipy.interpolate import interp1d

fc_values = [22.2, 30.2, 41.2, 51.9, 70.1]
c_values = [5.25, 8.14, 10.85, 12.40, 16.22]
phi_values = [27.5, 29.5, 30.9, 32.8, 36.7]

fc_target = 40
c_interp = interp1d(fc_values, c_values, kind='linear')(fc_target)
phi_interp = interp1d(fc_values, phi_values, kind='linear')(fc_target)

print(f"Cohesion: {c_interp:.2f} MPa")
print(f"Friction Angle: {phi_interp:.2f}°")
```

---

## 6. Concrete-Specific Properties – Cracking and Shear Transfer
### **Shear Transfer Coefficients**
- **ShrCf-Op (Open Crack)**: 0.5 (normal), 0.25 (high-stress)
- **ShrCf-Cl (Closed Crack)**: 0.9 - 1.0

**🔹 ANSYS Implementation:**
```apdl
TB,CONC,1,1,9
TBDATA,1,0.5,0.9,ft,-1
```

---

## 7. Tensile Strength
### (a) Eurocode 2:
For concrete class $$\leq$$ C50/60

$$
f_t = 0.3 \times f_c^{2/3}
$$

For concrete class $$>=$$ C50/60

$$
f_{t} = 2.12 \times \ln\left(1 + \frac{f_{cm}}{10} \right) \quad \text{(MPa)}
$$

**🔹 ANSYS Implementation:**
```apdl
! Compute Tensile Strength ft Based on EC2
*IF,fc,LE,50,THEN
  ft=0.3*(fc)**(2/3)   
*ELSE
  ft=2.12*LOG(1+0.1*fc) 
*ENDIF
```


✅ **For** $$ f_c = 40 $$ **MPa**:

$$
f_t = 0.3 \times 40^{2/3} = 3.5 \text{ MPa}
$$

### (b) ACI 318:

$$
f_t = 0.623 \sqrt{f_c}
$$

✅ **For** $$ f_c = 40 $$ **MPa**:

$$
f_t = 0.623 \times \sqrt{40} = 3.94 \text{ MPa}
$$


---

## 8. Stress-Strain Curve
### **Parabolic-Plastic Curve**
From **PCA’s Notes on ACI 318**, the **compressive stress-strain relation** is:

$$
f_c = f_{c,max} \times (2(\epsilon/\epsilon_0) - (\epsilon/\epsilon_0)^2)
$$

**🔹 ANSYS Implementation [2]:**
```apdl
TB,MISO,SOLID65_MATID,1,8,0  
TBTEMP,22
! Assign Computed Stress-Strain Data to ANSYS
TBPT,,0,0
TBPT,,0.00036,13.1
TBPT,,0.00060,20.40
TBPT,,0.00130,35.10
TBPT,,0.00190,39.90
TBPT,,0.00200,40.00
TBPT,,0.00243,40.00
TBPT,,0.00350,40.00 
```

---

## 9. Complete ANSYS Code
✅ **Drucker-Prager (DP) & MISO implementations**
```apdl
! Complete ANSYS implementation for fc = 40 MPa
!Author: Dr. Han
!Automatically determine parameters and define the material model for the SOLID65 concrete element, using the input values of fc and e0.
/PREP7
! Define Material ID
SOLID65_MATID = 1234 !Material ID
! Define Constants
f2max=40        ! Maximum compressive stress fc (MPa)
e0=0.002        ! Peak strain

! Compute Tensile Strength ft Based on EC2
*IF,f2max,LE,50,THEN
  ft=0.3*(f2max)**(2/3)   
*ELSE
  ft=2.12*LOG(1+0.1*f2max) 
*ENDIF

! Define Predefined Strain Values (ε2)
*DIM,eps_array,ARRAY,8
eps_array(1)=0.00000
eps_array(2)=0.00036
eps_array(3)=0.00060
eps_array(4)=0.00130
eps_array(5)=0.00190
eps_array(6)=0.00200
eps_array(7)=0.00243
eps_array(8)=0.00350  

! Define Stress Values Manually
*DIM,f2_array,ARRAY,8
f2_array(1)=0.0
f2_array(2)=f2max*(2*(eps_array(2)/e0)-(eps_array(2)/e0)*(eps_array(2)/e0))
f2_array(3)=f2max*(2*(eps_array(3)/e0)-(eps_array(3)/e0)*(eps_array(3)/e0))
f2_array(4)=f2max*(2*(eps_array(4)/e0)-(eps_array(4)/e0)*(eps_array(4)/e0))
f2_array(5)=f2max*(2*(eps_array(5)/e0)-(eps_array(5)/e0)*(eps_array(5)/e0))
f2_array(6)=f2max  ! Stress remains constant for ε ≥ ε0
f2_array(7)=f2max  ! Stress remains constant for ε ≥ ε0
f2_array(8)=f2max  ! Stress remains constant for ε ≥ ε0

EC=f2_array(2)/eps_array(2)

! Define Solid5 element
ET,SOLID65_MATID,SOLID65
R,SOLID65_MATID,0,0,0,0,0,0
RMORE,0,0,0,0,0
! Define Material Properties
MP,EX,SOLID65_MATID,EC  ! Young's Modulus
MP,PRXY,SOLID65_MATID,0.2  ! Poisson's Ratio
MP,DENS,SOLID65_MATID,0.0024 ! Density of Concrete  2400 (kg/m³)

! Define Concrete Material Model
TB,CONCR,SOLID65_MATID,1,9
TBTEMP,22
TBDATA,1,0.3,0.8,ft,-1  ! Tensile strength automatically calculated

! Define Multilinear Isotropic Hardening for Stress-Strain
TB,MISO,SOLID65_MATID,1,8,0  
TBTEMP,22

! Assign Computed Stress-Strain Data to ANSYS
TBPT,,eps_array(1),f2_array(1)
TBPT,,eps_array(2),f2_array(2)
TBPT,,eps_array(3),f2_array(3)
TBPT,,eps_array(4),f2_array(4)
TBPT,,eps_array(5),f2_array(5)
TBPT,,eps_array(6),f2_array(6)
TBPT,,eps_array(7),f2_array(7)
TBPT,,eps_array(8),f2_array(8) 



```
✅ **Drucker-Prager (DP) & MISO implementations**

---

## References:
[1] Öztekin, E., Pul, S., & Hüsem, M. (2016). Experimental determination of Drucker-Prager yield criterion parameters for normal and high strength concretes under triaxial compression. Construction and Building Materials, 112, 725-732.

[2] Thanapon Buamongkol, ANSYS Tutorial: Learn APDL Command for SOLID65 Concrete Modeling Using ANSYS Workbench 2019, https://youtu.be/0JiKNWt095I?si=7lz3-Ja3Qj6o1dT2

